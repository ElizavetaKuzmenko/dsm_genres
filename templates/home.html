{% extends "base.html" %}

{% block content %}
    <div class="row">
        <h1>English language registers explorer</h1>
          <p class="lead">powered by word embeddings</p>

	<p>Your query word:</p>
            <form method=post>
              <div class="form-group">
        {% if word %}
        <input type="text" class="form-control" name="query" value="{{ word }}" maxlength=100>
        {% else %}
        <input type="text" class="form-control" name="query" placeholder="apple_SUBST" maxlength=100>
        {% endif %}
      </div>
      <button type="submit" class="btn btn-primary" name="query" value = "submit">Submit!</button>
            </form>
    {% if error %}
        <p> {{ error }}</p>
    {% endif %}
     {% if result %}
      <h3><strong> Associates for <i>{{word}}</i> ({{ pos }}) across genres</strong> </h3>
        <div class="row">
    {% for model in result %}
        <div class="col-md-3">
        <h4><strong>{{ model }}</strong></h4>
        <ol>
        {% for res in result[model] if not "No results" in res and res != "Incorrect tag!" and not 'unknown' in res  %}
        <li>
        {{ res.split('_')[0] }} {{ res.split('#')[1] }}
        </li>
        {% endfor %}
        {% if 'is unknown' in result[model][0] %}
        <i>{{ result[model][0] }}</i>
        
        {% endif %}
        </ol>
        </div>
    {% endfor %}
        </div>
         {% if distances %}
       <div class="row">
       <p>Distances between this word's associates in specific genres and the whole corpus (1 - completely different, 0 - no difference)</p>
       <table>
           {% for key, value in distances.iteritems() %}
            <tr>
        <th> The whole BNC vs. {{ key }} </th>
        <td> &nbsp;&nbsp;{{ value }} </td>
            </tr>
{% endfor %}
       </table>
       </div>
         {% endif %}
{% endif %}
        
     
{% endblock %}
